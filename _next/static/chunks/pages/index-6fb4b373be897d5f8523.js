(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{18266:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return U}});var n=s(85893),a=s(67294),l=s(9008),r=s(11163),i=s(17714),c=s(10121),d=s(44431),o=s.n(d),m=s(41789),u=s(90454),h=s(15609),x=function(){var e=(0,i.v9)(u.t5),t=((0,i.v9)(m.KZ)[e]||[]).reduce((function(e,t){var s=t.tvl,n=t.decimals,a=t.usdPrice,l=(0,h.mZ)(s,n,a);return null!==l&&void 0!==l&&l.isFinite()?e.plus(l):e}),new(o())("0"));return(0,n.jsxs)("div",{className:"row mt-4",children:[(0,n.jsx)("div",{className:"col-8 col-sm-9 col-lg-10 text-end border-end pe-3 border-2",children:(0,n.jsxs)("h3",{className:"h4 text-primary fw-bold mb-0",children:["$",t.isZero()?" -":t.toFormat(0)]})}),(0,n.jsx)("div",{className:"col-4 col-sm-3 col-lg-2",children:(0,n.jsx)("h2",{className:"h5 fw-bold mb-0 mt-1",children:(0,n.jsx)("abbr",{title:"Total value locked",children:"TVL"})})})]})},f=s(36189),v=function(){var e=(0,i.v9)(u.N0),t=(0,i.v9)(u.t5),s=((0,i.v9)(m.KZ)[t]||[]).reduce((function(e,t){var s=t.shares,n=t.decimals,a=t.pricePerFullShare,l=t.vaultDecimals,r=t.usdPrice,i=s&&(0,f.m)(s,l),c=null===i||void 0===i?void 0:i.times(a),d=(0,h.mZ)(c,n,r);return null!==d&&void 0!==d&&d.isFinite()?e.plus(d):e}),new(o())("0"));return(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-8 col-sm-9 col-lg-10 text-end border-end pe-3 border-2",children:(0,n.jsxs)("h3",{className:"h5 text-primary-dark fw-bold mb-0 mt-1",children:["$",e&&s.isFinite()?(0,h.dN)(s.toNumber()):" -"]})}),(0,n.jsx)("div",{className:"col-4 col-sm-3 col-lg-2",children:(0,n.jsx)("h2",{className:"h6 mb-0 mt-2",children:"Deposited"})})]})},b=s(41664),j=function(){return(0,n.jsx)(b.default,{href:"/referrals",children:(0,n.jsx)("a",{className:"btn btn-outline-primary text-white mt-3 d-lg-none",children:"Referrals"})})},p=s(60426),N=s(40646),g=function(){var e=(0,i.v9)(u.N0),t=(0,i.v9)(u.t5),l=(0,i.v9)(u.C$),r=(0,i.v9)(m.KZ),c=(0,i.I0)(),d=(0,a.useState)("Claim"),x=d[0],v=d[1],b=(0,a.useState)("ready"),j=(b[0],b[1]);if(80001===t){var g=new(o())(18),y=(r[t]||[]).reduce((function(e,t){var s=t.pendingTokens;return null!==s&&void 0!==s&&s.isFinite()?e.plus(s):e}),new(o())("0")),w=(0,f.m)(y,g);return(0,n.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("div",{className:"card-body bg-dark py-1",children:(0,n.jsxs)("p",{className:"small mb-0",children:[(0,n.jsx)("span",{children:"Available reward"}),(0,n.jsx)("span",{className:"mx-2",children:(0,h.dN)(w,"",6)}),(0,n.jsx)("span",{children:"2pi"}),(0,n.jsx)("button",{type:"button",className:"btn btn-dark btn-sm text-white ms-3",onClick:function(){var n=s(98042)("./".concat(t,"/archimedes")).default,a=new l.eth.Contract(n.abi,n.address);v("Claim..."),j("claim"),a.methods.harvestAll().send({from:e}).on("transactionHash",(function(e){(0,N.h)(e,c)})).then((function(){j("ready"),v("Claim"),c((0,p.h8)("Claim rejected")),c((0,m.QW)()),c((0,m.Z0)()),c((0,p.Z5)({title:"Claim approved",body:"Your claim was successful",icon:"check-circle",style:"success",autohide:!0}))})).catch((function(){j("ready"),v("Claim"),c((0,p.Z5)({title:"Claim rejected",body:"Your claim was rejected, please check the explorer and try again",icon:"exclamation-triangle",style:"danger",autohide:!0}))}))},disabled:!1,children:x})]})})})})}return null},y=s(25675),w=function(e){return{137:"polygon.svg",1337:"localhost.svg",80001:"polygon.svg"}[e]||"unsupported.svg"},k=function(){var e=(0,i.v9)(u.t5),t=function(e){return{137:"Polygon",1337:"Local",80001:"Polygon test"}[e]||"Unsupported network"}(e),s=u.df.includes(e)?"primary":"danger",a=80001===e?"mt-3":"mt-5";return(0,n.jsx)("div",{className:"d-flex mt-lg-0 ".concat(a),children:(0,n.jsx)("div",{className:"card border-".concat(s),children:(0,n.jsxs)("div",{className:"d-flex align-items-center card-body py-2",children:[(0,n.jsx)(y.default,{src:"/images/networks/".concat(w(e)),alt:t,width:"32",height:"32"}),(0,n.jsx)("span",{className:"ms-3",children:t})]})})})},Z=function(e){return(0,n.jsx)("div",{className:"card border border-".concat(e.color," border-2 bg-dark my-4"),children:(0,n.jsx)("div",{className:"card-body ms-2",children:(0,n.jsxs)("div",{className:"row align-items-center cursor-pointer",children:[(0,n.jsx)("div",{className:"col-3 col-md-2 col-lg-2 pt-1",children:(0,n.jsx)(y.default,{src:"/images/tokens/".concat(e.token,".svg"),alt:e.token,height:"48",width:"48"})}),(0,n.jsxs)("div",{className:"col-9 col-md-10 col-lg-3",children:[(0,n.jsx)(b.default,{href:"/vaults/".concat(e.vaultKey),children:(0,n.jsx)("a",{className:"stretched-link text-decoration-none",children:(0,n.jsx)("h3",{className:"h4 mb-1",children:e.symbol})})}),(0,n.jsxs)("p",{className:"small text-muted mb-0",children:["Earn:",(0,n.jsx)("span",{className:"ms-2",children:e.earn})]}),(0,n.jsxs)("p",{className:"small text-muted mb-0",children:["Uses:",(0,n.jsx)("span",{className:"ms-2",children:e.uses})]})]}),(0,n.jsxs)("div",{className:"col-6 col-lg-2 text-lg-center mt-3 mt-lg-0",children:[(0,n.jsx)("p",{className:"small text-muted mb-0",children:e.balanceUsd?(0,h.dN)(e.balanceUsd,"$"):"-"}),(0,n.jsx)("p",{className:"small text-primary mb-0",children:e.balance?(0,h.dN)((0,f.m)(e.balance,e.decimals),"",8):"-"}),(0,n.jsx)("p",{className:"small text-muted mb-0",children:"Balance"})]}),(0,n.jsxs)("div",{className:"col-6 col-lg-2 text-lg-center mt-3 mt-lg-0",children:[(0,n.jsx)("p",{className:"small text-muted mb-0",children:e.depositedUsd?(0,h.dN)(e.depositedUsd,"$"):"-"}),(0,n.jsx)("p",{className:"small text-primary mb-0",children:e.deposited?(0,h.dN)((0,f.m)(e.deposited,e.decimals),"",8):"-"}),(0,n.jsx)("p",{className:"small text-muted mb-0",children:"Deposited"})]}),(0,n.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,n.jsx)("p",{className:"lead text-nowrap mb-0",children:(0,h.gt)(e.apy)}),(0,n.jsx)("p",{className:"small text-muted mb-0",children:(0,n.jsx)("abbr",{title:"Annual percentage yield",children:"APY"})})]}),(0,n.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,n.jsx)("p",{className:"text-nowrap mb-0",children:(0,h.gt)((e.apy||0)/365)}),(0,n.jsx)("p",{className:"small text-muted mb-0",children:"Daily"})]}),(0,n.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,n.jsx)("p",{className:"small text-nowrap mb-0",children:e.tvlUsd?(0,h.dN)(e.tvlUsd,"$"):"-"}),(0,n.jsx)("p",{className:"small text-muted mb-0",children:(0,n.jsx)("abbr",{title:"Total assets",children:"TA"})})]})]})})})},F=s(5229),_=function(e,t){return(e[t]||[]).map((function(e){var t=e.balance,s=e.decimals,a=e.earn,l=e.pricePerFullShare,r=e.shares,i=e.tvl,c=e.usdPrice,d=e.vaultDecimals,o=r&&(0,f.m)(r,d),m=null===o||void 0===o?void 0:o.times(l),u=(0,h.mZ)(t,s,c),x=(0,h.mZ)(m,s,c),v=(0,h.mZ)(i,s,c);return(0,n.jsx)(Z,{apy:e.apy,balance:t,balanceUsd:u,color:e.color,decimals:s,deposited:m,depositedUsd:x,earn:a,symbol:e.symbol,token:e.token,tvlUsd:v,uses:e.uses,vaultKey:e.key},e.key)}))},C=function(){var e=(0,i.v9)(u.N0),t=(0,i.v9)(u.t5),s=(0,i.v9)(m.KZ),l=(0,i.I0)();return(0,a.useEffect)((function(){return(0,F.E)(e,t,l)}),[e,t,l]),(0,n.jsxs)("div",{className:"mt-1 pt-3 pt-lg-0",children:[(0,n.jsxs)("div",{className:"d-flex my-4",children:[(0,n.jsx)("h2",{className:"h2 fw-bold flex-grow-1 mb-0",children:"Vaults"}),(0,n.jsx)("p",{className:"small text-muted text-right align-self-end mb-0 ms-4",children:"Withdrawal Fee: 0.1%."}),(0,n.jsx)("p",{className:"small text-muted text-right align-self-end mb-0 ms-1",children:"Deposit Fee: 0%."})]}),(0,n.jsx)("div",{className:"mt-3",children:_(s,t)})]})},E=s(40428),T=s(67342),P=function(){var e,t=(0,i.v9)(u.N0),s=(0,r.useRouter)();return(0,a.useEffect)((function(){var e,n=null===s||void 0===s||null===(e=s.query)||void 0===e?void 0:e.ref;n&&n!==t?localStorage.setItem("referral",n):n&&n===t&&localStorage.removeItem("referral")}),[t,null===s||void 0===s||null===(e=s.query)||void 0===e?void 0:e.ref]),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(c.Z,{}),(0,n.jsx)(j,{}),(0,n.jsx)(x,{}),(0,n.jsx)(v,{}),(0,n.jsx)(g,{}),(0,n.jsx)(k,{}),(0,n.jsx)(C,{}),(0,n.jsx)(E.Z,{}),(0,n.jsx)(T.Z,{})]})},U=function(){return(0,a.useEffect)((function(){document&&s(43734)})),(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(l.default,{children:(0,n.jsx)("title",{children:"2pi Finance"})}),(0,n.jsx)(P,{})]})}},67342:function(e,t,s){"use strict";var n=s(85893),a=s(41664);t.Z=function(){return(0,n.jsxs)("footer",{className:"my-5 text-center pt-lg-4",children:[(0,n.jsx)("h2",{className:"h6 mb-4",children:"Contact us"}),(0,n.jsxs)("ul",{className:"list-inline lead",children:[(0,n.jsx)("li",{className:"list-inline-item mx-2",children:(0,n.jsx)(a.default,{href:"https://twitter.com/2piFinance",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Tweet us!",children:(0,n.jsx)("i",{className:"bi-twitter"})})})}),(0,n.jsx)("li",{className:"list-inline-item mx-2",children:(0,n.jsx)(a.default,{href:"https://github.com/2pifinance/",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Fork / inspect us!",children:(0,n.jsx)("i",{className:"bi-github"})})})}),(0,n.jsx)("li",{className:"list-inline-item mx-2",children:(0,n.jsx)(a.default,{href:"https://discord.com/invite/h8VG2XcwvT",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Talk with us!",children:(0,n.jsx)("i",{className:"bi-discord"})})})}),(0,n.jsx)("li",{className:"list-inline-item mx-2",children:(0,n.jsx)(a.default,{href:"https://2pifinance.medium.com",children:(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Read us!",children:(0,n.jsx)("i",{className:"bi-file-text"})})})}),(0,n.jsx)("li",{className:"list-inline-item mx-2",children:(0,n.jsx)(a.default,{href:"mailto:hello@2pi.finance",children:(0,n.jsx)("a",{title:"Email us!",children:(0,n.jsx)("i",{className:"bi-envelope"})})})})]})]})}},10121:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(85893),a=s(25675),l=s(41664),r=s(17714),i=s(90454),c=function(e,t){return e?"".concat(e.substr(0,6),"...").concat(e.substr(38,42)):"loading"===t?"Connecting...":"Connect"},d=function(e,t){return e&&t?"bi-wallet-fill":e?"bi-exclamation-diamond-fill":"bi-plug-fill"},o=function(){var e=(0,r.v9)(i.N0),t=(0,r.v9)(i.t5),s=(0,r.v9)(i.mW),a=(0,r.I0)(),l=isNaN(t)||i.df.includes(t),o=l?"primary":"danger";return(0,n.jsxs)("button",{type:"button",className:"btn btn-outline-".concat(o," btn-sm bg-dark text-primary fw-semi-bold order-0 order-lg-1 mt-3 mt-lg-0"),disabled:"loading"===s,onClick:function(){a(e?(0,i.gm)():(0,i.mx)())},children:[(0,n.jsx)("span",{className:"me-2",children:(0,n.jsx)("i",{className:d(e,l)})}),c(e,s)]})},m=function(e){var t;return(0,n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-transparent mt-4",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(l.default,{href:"/",children:(0,n.jsx)("a",{className:"navbar-brand me-auto pt-lg-2",children:(0,n.jsx)("div",{className:"mt-1 pt-1",children:(0,n.jsx)(a.default,{src:"/".concat(null!==(t=e.path)&&void 0!==t?t:".","/images/logo.svg"),alt:"2pi Finance",width:"149",height:"24"})})})}),(0,n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#menu","aria-controls":"menu","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,n.jsx)("span",{className:"navbar-toggler-icon"})}),(0,n.jsxs)("div",{className:"collapse navbar-collapse",id:"menu",children:[(0,n.jsx)(o,{}),(0,n.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 mt-lg-2 ms-lg-4 order-1 order-lg-0",children:[(0,n.jsx)("li",{className:"nav-item d-none d-lg-inline",children:(0,n.jsx)(l.default,{href:"/referrals",children:(0,n.jsx)("a",{className:"nav-link btn btn-outline-primary text-white me-3 mt-3 mt-lg-0",children:"Referrals"})})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(l.default,{href:"https://docs.2pi.finance/how-to-guide",children:(0,n.jsx)("a",{className:"nav-link",target:"_blank",rel:"noreferrer",children:"How-to guide"})})})]})]})]})})}},40428:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(85893),a=s(67294),l=s(17714),r=s(60426),i=function(e){var t=a.useRef(),i=(0,l.I0)();return(0,a.useEffect)((function(){var n=s(79909).FN,a=t.current;new n(a,{autohide:e.autohide}).show(),a.addEventListener("hidden.bs.toast",(function(){i((0,r.h8)(e.title))}))})),(0,n.jsxs)("div",{ref:t,className:"toast border border-".concat(e.style," border-3 bg-dark"),role:"alert","aria-live":"assertive","aria-atomic":"true",children:[(0,n.jsxs)("div",{className:"toast-header bg-dark",children:[(0,n.jsx)("span",{className:"text-".concat(e.style),children:(0,n.jsx)("i",{className:"bi-".concat(e.icon," me-2")})}),(0,n.jsx)("span",{className:"me-auto fw-bold",children:e.title}),(0,n.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"toast","aria-label":"Close"})]}),(0,n.jsx)("div",{className:"toast-body",children:e.body})]})},c=s(90454),d=function(e){return e.map((function(e,t){return(0,n.jsx)(i,{title:e.title,body:e.body,icon:e.icon,style:e.style,autohide:!!e.autohide},"toast-".concat(t))}))},o=function(){var e=(0,l.v9)(r.BZ),t=(0,l.v9)(c.N0),s=(0,l.v9)(c.t5),i=(0,l.I0)();return(0,a.useEffect)((function(){t&&!c.df.includes(s)?i((0,r.Z5)({title:"Wrong network",body:"Switch to Polygon Mainnet and try again",icon:"exclamation-triangle",style:"danger"})):i((0,r.h8)("Wrong network"))}),[t,s,i]),e.length?(0,n.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:"position-fixed top-0 start-0 end-0",children:(0,n.jsx)("div",{className:"toast-container p-3 ms-0 ms-lg-4 mt-5 pt-5",children:d(e)})}):null}},15609:function(e,t,s){"use strict";s.d(t,{dN:function(){return a},N3:function(){return l},mZ:function(){return r},sv:function(){return i},gt:function(){return c}});var n=s(36189),a=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=Math.floor(Math.log10(Math.abs(e))/3);if(n<0)return"".concat(t||"").concat(e.toFixed(s));var a=["","K","M","B","T","Q"],l=(e/Math.pow(1e3,n)).toFixed(s);return"".concat(t||"").concat(l).concat(a[n])},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.comparedTo(t)>0?t:e.toNumber()},r=function(e,t,s){var a=e&&(0,n.m)(e,t);return null===a||void 0===a?void 0:a.times(s)},i=function(e,t){return(0,n.r)(e,t).toFixed(0)},c=function(e){var t=(e=100*(e||0))>0&&Math.abs(e)<10?3:2;return"".concat(a(e,"",t),"%")}},40646:function(e,t,s){"use strict";s.d(t,{h:function(){return d}});var n=s(85893),a=s(17714),l=s(18536),r=s(60426),i=s(90454),c=function(e){var t=(0,a.v9)(i.t5),s=(0,l.B8)(t);if(s){var r="".concat(s,"/tx/").concat(e.hash);return(0,n.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",title:e.text,children:e.text||e.hash})}return e.hash},d=function(e,t){t((0,r.Z5)({title:"Transaction sent",body:(0,n.jsx)(c,{hash:e,text:e}),icon:"check-circle",style:"success",autohide:!0}))}},5229:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});var n=s(41789),a=s(90454),l=function(e,t,s){var l=function(){var l=t!==a.Ib&&!e,r=a.df.includes(t);l&&r||(r?(s((0,n.QW)()),s((0,n.Z0)())):s((0,n.gH)()))},r=setInterval(l,e?3e4:18e4);return l(),function(){return clearInterval(r)}}},36189:function(e,t,s){"use strict";s.d(t,{m:function(){return l},r:function(){return r}});var n=s(44431),a=s.n(n),l=function(e,t){return e.div(new(a())(10).pow(t))},r=function(e,t){return e.times(new(a())(10).pow(t))}},78581:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(18266)}])}},function(e){e.O(0,[776,104,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-6fb4b373be897d5f8523.js.map