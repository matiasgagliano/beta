(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{18266:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var a=s(85893),n=s(67294),l=s(9008),r=s(11163),i=s(17714),c=s(62636),d=s(10121),o=s(41664),m=function(){return(0,a.jsx)(o.default,{href:"/referrals",children:(0,a.jsx)("a",{className:"btn btn-outline-primary text-white mt-3 d-lg-none",children:"Referrals"})})},u=s(44431),h=s.n(u),x=s(41789),f=s(90454),v=s(15609),j=function(){var e=(0,i.v9)(f.t5),t=((0,i.v9)(x.KZ)[e]||[]).reduce((function(e,t){var s=t.tvl,a=t.decimals,n=t.usdPrice,l=(0,v.mZ)(s,a,n);return null!==l&&void 0!==l&&l.isFinite()?e.plus(l):e}),new(h())("0"));return(0,a.jsxs)("div",{className:"row mt-4",children:[(0,a.jsx)("div",{className:"col-8 col-sm-9 col-lg-10 text-end border-end pe-3 border-2",children:(0,a.jsxs)("h3",{className:"h4 text-primary fw-bold mb-0",children:["$",t.isZero()?" -":t.toFormat(0)]})}),(0,a.jsx)("div",{className:"col-4 col-sm-3 col-lg-2",children:(0,a.jsx)("h2",{className:"h5 fw-bold mb-0 mt-1",children:(0,a.jsx)("abbr",{title:"Total value locked",children:"TVL"})})})]})},b=s(36189),p=function(){var e=(0,i.v9)(f.N0),t=(0,i.v9)(f.t5),s=((0,i.v9)(x.KZ)[t]||[]).reduce((function(e,t){var s=t.shares,a=t.decimals,n=t.pricePerFullShare,l=t.vaultDecimals,r=t.usdPrice,i=s&&(0,b.m)(s,l),c=null===i||void 0===i?void 0:i.times(n),d=(0,v.mZ)(c,a,r);return null!==d&&void 0!==d&&d.isFinite()?e.plus(d):e}),new(h())("0"));return(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-8 col-sm-9 col-lg-10 text-end border-end pe-3 border-2",children:(0,a.jsxs)("h3",{className:"h5 text-primary-dark fw-bold mb-0 mt-1",children:["$",e&&s.isFinite()?(0,v.dN)(s.toNumber()):" -"]})}),(0,a.jsx)("div",{className:"col-4 col-sm-3 col-lg-2",children:(0,a.jsx)("h2",{className:"h6 mb-0 mt-2",children:"Deposited"})})]})},N=s(60426),g=s(40646),y=function(){var e=(0,i.v9)(f.N0),t=(0,i.v9)(f.t5),l=(0,i.v9)(f.C$),r=(0,i.v9)(x.KZ),c=(0,i.I0)(),d=(0,n.useState)("Claim"),o=d[0],m=d[1],u=(0,n.useState)("ready"),j=(u[0],u[1]);if(80001===t){var p=new(h())(18),y=(r[t]||[]).reduce((function(e,t){var s=t.pendingTokens;return null!==s&&void 0!==s&&s.isFinite()?e.plus(s):e}),new(h())("0")),w=(0,b.m)(y,p);return(0,a.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"card-body bg-dark py-1",children:(0,a.jsxs)("p",{className:"small mb-0",children:[(0,a.jsx)("span",{children:"Available reward"}),(0,a.jsx)("span",{className:"mx-2",children:(0,v.dN)(w,"",6)}),(0,a.jsx)("span",{children:"2pi"}),(0,a.jsx)("button",{type:"button",className:"btn btn-dark btn-sm text-white ms-3",onClick:function(){var a=s(98042)("./".concat(t,"/archimedes")).default,n=new l.eth.Contract(a.abi,a.address);m("Claim..."),j("claim"),n.methods.harvestAll().send({from:e}).on("transactionHash",(function(e){(0,g.h)(e,c)})).then((function(){j("ready"),m("Claim"),c((0,N.h8)("Claim rejected")),c((0,x.QW)()),c((0,x.Z0)()),c((0,N.Z5)({title:"Claim approved",body:"Your claim was successful",icon:"check-circle",style:"success",autohide:!0}))})).catch((function(){j("ready"),m("Claim"),c((0,N.Z5)({title:"Claim rejected",body:"Your claim was rejected, please check the explorer and try again",icon:"exclamation-triangle",style:"danger",autohide:!0}))}))},disabled:!1,children:o})]})})})})}return null},w=s(25675),k=function(e){return{137:"polygon.svg",1337:"localhost.svg",80001:"polygon.svg"}[e]||"unsupported.svg"},Z=function(){var e=(0,i.v9)(f.t5),t=function(e){return{137:"Polygon",1337:"Local",80001:"Polygon test"}[e]||"Unsupported network"}(e),s=f.df.includes(e)?"primary":"danger",n=80001===e?"mt-3":"mt-5";return(0,a.jsx)("div",{className:"d-flex mt-lg-0 ".concat(n),children:(0,a.jsx)("div",{className:"card border-".concat(s),children:(0,a.jsxs)("div",{className:"d-flex align-items-center card-body py-2",children:[(0,a.jsx)(w.default,{src:"/images/networks/".concat(k(e)),alt:t,width:"32",height:"32"}),(0,a.jsx)("span",{className:"ms-3",children:t})]})})})},F=function(e){return(0,a.jsx)("div",{className:"card border border-".concat(e.color," border-2 bg-dark my-4"),children:(0,a.jsx)("div",{className:"card-body ms-2",children:(0,a.jsxs)("div",{className:"row align-items-center cursor-pointer",children:[(0,a.jsx)("div",{className:"col-3 col-md-2 col-lg-2 pt-1",children:(0,a.jsx)(w.default,{src:"/images/tokens/".concat(e.token,".svg"),alt:e.token,height:"48",width:"48"})}),(0,a.jsxs)("div",{className:"col-9 col-md-10 col-lg-3",children:[(0,a.jsx)(o.default,{href:"/vaults/".concat(e.vaultKey),children:(0,a.jsx)("a",{className:"stretched-link text-decoration-none",children:(0,a.jsx)("h3",{className:"h4 mb-1",children:e.symbol})})}),(0,a.jsxs)("p",{className:"small text-muted mb-0",children:["Earn:",(0,a.jsx)("span",{className:"ms-2",children:e.earn})]}),(0,a.jsxs)("p",{className:"small text-muted mb-0",children:["Uses:",(0,a.jsx)("span",{className:"ms-2",children:e.uses})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 text-lg-center mt-3 mt-lg-0",children:[(0,a.jsx)("p",{className:"small text-muted mb-0",children:e.balanceUsd?(0,v.dN)(e.balanceUsd,"$"):"-"}),(0,a.jsx)("p",{className:"small text-primary mb-0",children:e.balance?(0,v.dN)((0,b.m)(e.balance,e.decimals),"",8):"-"}),(0,a.jsx)("p",{className:"small text-muted mb-0",children:"Balance"})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 text-lg-center mt-3 mt-lg-0",children:[(0,a.jsx)("p",{className:"small text-muted mb-0",children:e.depositedUsd?(0,v.dN)(e.depositedUsd,"$"):"-"}),(0,a.jsx)("p",{className:"small text-primary mb-0",children:e.deposited?(0,v.dN)((0,b.m)(e.deposited,e.decimals),"",8):"-"}),(0,a.jsx)("p",{className:"small text-muted mb-0",children:"Deposited"})]}),(0,a.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,a.jsx)("p",{className:"lead text-nowrap mb-0",children:(0,v.gt)(e.apy)}),(0,a.jsx)("p",{className:"small text-muted mb-0",children:(0,a.jsx)("abbr",{title:"Annual percentage yield",children:"APY"})})]}),(0,a.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,a.jsx)("p",{className:"text-nowrap mb-0",children:(0,v.gt)((e.apy||0)/365)}),(0,a.jsx)("p",{className:"small text-muted mb-0",children:"Daily"})]}),(0,a.jsxs)("div",{className:"col-4 col-lg-1 text-lg-center mt-3 mt-lg-0",children:[(0,a.jsx)("p",{className:"small text-nowrap mb-0",children:e.tvlUsd?(0,v.dN)(e.tvlUsd,"$"):"-"}),(0,a.jsx)("p",{className:"small text-muted mb-0",children:(0,a.jsx)("abbr",{title:"Total assets",children:"TA"})})]})]})})})},_=s(5229),C=function(e,t){return(e[t]||[]).map((function(e){var t=e.balance,s=e.decimals,n=e.earn,l=e.pricePerFullShare,r=e.shares,i=e.tvl,c=e.usdPrice,d=e.vaultDecimals,o=r&&(0,b.m)(r,d),m=null===o||void 0===o?void 0:o.times(l),u=(0,v.mZ)(t,s,c),h=(0,v.mZ)(m,s,c),x=(0,v.mZ)(i,s,c);return(0,a.jsx)(F,{apy:e.apy,balance:t,balanceUsd:u,color:e.color,decimals:s,deposited:m,depositedUsd:h,earn:n,symbol:e.symbol,token:e.token,tvlUsd:x,uses:e.uses,vaultKey:e.key},e.key)}))},E=function(){var e=(0,i.v9)(f.N0),t=(0,i.v9)(f.t5),s=(0,i.v9)(x.KZ),l=(0,i.I0)();return(0,n.useEffect)((function(){return(0,_.E)(e,t,l)}),[e,t,l]),(0,a.jsxs)("div",{className:"mt-1 pt-3 pt-lg-0",children:[(0,a.jsxs)("div",{className:"d-flex my-4",children:[(0,a.jsx)("h2",{className:"h2 fw-bold flex-grow-1 mb-0",children:"Vaults"}),(0,a.jsx)("p",{className:"small text-muted text-right align-self-end mb-0 ms-4",children:"Withdrawal Fee: 0.1%."}),(0,a.jsx)("p",{className:"small text-muted text-right align-self-end mb-0 ms-1",children:"Deposit Fee: 0%."})]}),(0,a.jsx)("div",{className:"mt-3",children:C(s,t)})]})},T=s(40428),P=s(67342),U=function(){var e,t=(0,i.v9)(f.N0),s=(0,r.useRouter)();return(0,n.useEffect)((function(){var e,a=null===s||void 0===s||null===(e=s.query)||void 0===e?void 0:e.ref;a&&a!==t?localStorage.setItem("referral",a):a&&a===t&&localStorage.removeItem("referral")}),[t,null===s||void 0===s||null===(e=s.query)||void 0===e?void 0:e.ref]),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(d.Z,{}),(0,a.jsx)(m,{}),(0,a.jsx)(j,{}),(0,a.jsx)(p,{}),(0,a.jsx)(y,{}),(0,a.jsx)(Z,{}),(0,a.jsx)(E,{}),(0,a.jsx)(T.Z,{}),(0,a.jsx)(P.Z,{})]})},I=function(){return(0,n.useEffect)((function(){document&&s(43734)})),(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.default,{children:(0,a.jsx)("title",{children:"2pi Finance"})}),(0,a.jsx)(U,{})]})}},62636:function(e,t,s){"use strict";var a=s(85893);t.Z=function(){return(0,a.jsx)("div",{className:"alert alert-info py-1 mt-3 mb-0",children:(0,a.jsxs)("p",{className:"small text-center mb-0",children:[(0,a.jsx)("i",{className:"bi-tools"}),(0,a.jsx)("span",{className:"ms-2",children:"This application is experimental, please do your own research."})]})})}},67342:function(e,t,s){"use strict";var a=s(85893),n=s(41664);t.Z=function(){return(0,a.jsxs)("footer",{className:"my-5 text-center pt-lg-4",children:[(0,a.jsx)("h2",{className:"h6 mb-4",children:"Contact us"}),(0,a.jsxs)("ul",{className:"list-inline lead",children:[(0,a.jsx)("li",{className:"list-inline-item mx-2",children:(0,a.jsx)(n.default,{href:"https://twitter.com/2piFinance",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Tweet us!",children:(0,a.jsx)("i",{className:"bi-twitter"})})})}),(0,a.jsx)("li",{className:"list-inline-item mx-2",children:(0,a.jsx)(n.default,{href:"https://github.com/2pifinance/",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Fork / inspect us!",children:(0,a.jsx)("i",{className:"bi-github"})})})}),(0,a.jsx)("li",{className:"list-inline-item mx-2",children:(0,a.jsx)(n.default,{href:"https://discord.com/invite/h8VG2XcwvT",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Talk with us!",children:(0,a.jsx)("i",{className:"bi-discord"})})})}),(0,a.jsx)("li",{className:"list-inline-item mx-2",children:(0,a.jsx)(n.default,{href:"https://2pifinance.medium.com",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",title:"Read us!",children:(0,a.jsx)("i",{className:"bi-file-text"})})})}),(0,a.jsx)("li",{className:"list-inline-item mx-2",children:(0,a.jsx)(n.default,{href:"mailto:hello@2pi.finance",children:(0,a.jsx)("a",{title:"Email us!",children:(0,a.jsx)("i",{className:"bi-envelope"})})})})]})]})}},10121:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(85893),n=s(25675),l=s(41664),r=s(17714),i=s(90454),c=function(e,t){return e?"".concat(e.substr(0,6),"...").concat(e.substr(38,42)):"loading"===t?"Connecting...":"Connect"},d=function(e,t){return e&&t?"bi-wallet-fill":e?"bi-exclamation-diamond-fill":"bi-plug-fill"},o=function(){var e=(0,r.v9)(i.N0),t=(0,r.v9)(i.t5),s=(0,r.v9)(i.mW),n=(0,r.I0)(),l=isNaN(t)||i.df.includes(t),o=l?"primary":"danger";return(0,a.jsxs)("button",{type:"button",className:"btn btn-outline-".concat(o," btn-sm bg-dark text-primary fw-semi-bold order-0 order-lg-1 mt-3 mt-lg-0"),disabled:"loading"===s,onClick:function(){n(e?(0,i.gm)():(0,i.mx)())},children:[(0,a.jsx)("span",{className:"me-2",children:(0,a.jsx)("i",{className:d(e,l)})}),c(e,s)]})},m=function(e){var t;return(0,a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-transparent mt-1",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)("a",{className:"navbar-brand me-auto pt-lg-2",children:(0,a.jsx)("div",{className:"mt-1 pt-1",children:(0,a.jsx)(n.default,{src:"/".concat(null!==(t=e.path)&&void 0!==t?t:".","/images/logo.svg"),alt:"2pi Finance",width:"149",height:"24"})})})}),(0,a.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#menu","aria-controls":"menu","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,a.jsx)("span",{className:"navbar-toggler-icon"})}),(0,a.jsxs)("div",{className:"collapse navbar-collapse",id:"menu",children:[(0,a.jsx)(o,{}),(0,a.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 mt-lg-2 ms-lg-4 order-1 order-lg-0",children:[(0,a.jsx)("li",{className:"nav-item d-none d-lg-inline",children:(0,a.jsx)(l.default,{href:"/referrals",children:(0,a.jsx)("a",{className:"nav-link btn btn-outline-primary text-white me-3 mt-3 mt-lg-0",children:"Referrals"})})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(l.default,{href:"/airdrop",children:(0,a.jsx)("a",{className:"nav-link",children:"Airdrop"})})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(l.default,{href:"https://docs.2pi.finance/how-to-guide",children:(0,a.jsx)("a",{className:"nav-link",target:"_blank",rel:"noreferrer",children:"How-to guide"})})})]})]})]})})}},40428:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(85893),n=s(67294),l=s(17714),r=s(60426),i=function(e){var t=n.useRef(),i=(0,l.I0)();return(0,n.useEffect)((function(){var a=s(79909).FN,n=t.current;new a(n,{autohide:e.autohide}).show(),n.addEventListener("hidden.bs.toast",(function(){i((0,r.h8)(e.title))}))})),(0,a.jsxs)("div",{ref:t,className:"toast border border-".concat(e.style," border-3 bg-dark"),role:"alert","aria-live":"assertive","aria-atomic":"true",children:[(0,a.jsxs)("div",{className:"toast-header bg-dark",children:[(0,a.jsx)("span",{className:"text-".concat(e.style),children:(0,a.jsx)("i",{className:"bi-".concat(e.icon," me-2")})}),(0,a.jsx)("span",{className:"me-auto fw-bold",children:e.title}),(0,a.jsx)("button",{type:"button",className:"btn-close btn-close-white","data-bs-dismiss":"toast","aria-label":"Close"})]}),(0,a.jsx)("div",{className:"toast-body",children:e.body})]})},c=s(90454),d=function(e){return e.map((function(e,t){return(0,a.jsx)(i,{title:e.title,body:e.body,icon:e.icon,style:e.style,autohide:!!e.autohide},"toast-".concat(t))}))},o=function(){var e=(0,l.v9)(r.BZ),t=(0,l.v9)(c.N0),s=(0,l.v9)(c.t5),i=(0,l.I0)();return(0,n.useEffect)((function(){t&&!c.df.includes(s)?i((0,r.Z5)({title:"Wrong network",body:"Switch to Polygon Mainnet and try again",icon:"exclamation-triangle",style:"danger"})):i((0,r.h8)("Wrong network"))}),[t,s,i]),e.length?(0,a.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:"position-fixed top-0 start-0 end-0",children:(0,a.jsx)("div",{className:"toast-container p-3 ms-0 ms-lg-4 mt-5 pt-5",children:d(e)})}):null}},15609:function(e,t,s){"use strict";s.d(t,{dN:function(){return n},N3:function(){return l},mZ:function(){return r},sv:function(){return i},gt:function(){return c}});var a=s(36189),n=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=Math.floor(Math.log10(Math.abs(e))/3);if(a<0)return"".concat(t||"").concat(e.toFixed(s));var n=["","K","M","B","T","Q"],l=(e/Math.pow(1e3,a)).toFixed(s);return"".concat(t||"").concat(l).concat(n[a])},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.comparedTo(t)>0?t:e.toNumber()},r=function(e,t,s){var n=e&&(0,a.m)(e,t);return null===n||void 0===n?void 0:n.times(s)},i=function(e,t){return(0,a.r)(e,t).toFixed(0)},c=function(e){var t=(e=100*(e||0))>0&&Math.abs(e)<10?3:2;return"".concat(n(e,"",t),"%")}},40646:function(e,t,s){"use strict";s.d(t,{h:function(){return d}});var a=s(85893),n=s(17714),l=s(18536),r=s(60426),i=s(90454),c=function(e){var t=(0,n.v9)(i.t5),s=(0,l.B8)(t);if(s){var r="".concat(s,"/tx/").concat(e.hash);return(0,a.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",title:e.text,children:e.text||e.hash})}return e.hash},d=function(e,t){t((0,r.Z5)({title:"Transaction sent",body:(0,a.jsx)(c,{hash:e,text:e}),icon:"check-circle",style:"success",autohide:!0}))}},5229:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});var a=s(41789),n=s(90454),l=function(e,t,s){var l=function(){var l=t!==n.Ib&&!e,r=n.df.includes(t);l&&r||(r?(s((0,a.QW)()),s((0,a.Z0)())):s((0,a.gH)()))},r=setInterval(l,e?3e4:18e4);return l(),function(){return clearInterval(r)}}},36189:function(e,t,s){"use strict";s.d(t,{m:function(){return l},r:function(){return r}});var a=s(44431),n=s.n(a),l=function(e,t){return e.div(new(n())(10).pow(t))},r=function(e,t){return e.times(new(n())(10).pow(t))}},78581:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(18266)}])}},function(e){e.O(0,[776,734,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-1f51eab61dc7fb247491.js.map